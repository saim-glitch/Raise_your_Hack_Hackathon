<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metro Store - Your AI Shopping Assistant</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            overflow-x: hidden;
        }

        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.1;
        }

        .floating-shapes {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .shape {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 20s infinite linear;
        }

        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            left: 10%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 60px;
            height: 60px;
            left: 20%;
            animation-delay: 5s;
        }

        .shape:nth-child(3) {
            width: 100px;
            height: 100px;
            left: 70%;
            animation-delay: 10s;
        }

        .shape:nth-child(4) {
            width: 40px;
            height: 40px;
            left: 80%;
            animation-delay: 15s;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
            }
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 15px 0;
            transition: all 0.3s ease;
        }

        .header.scrolled {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 28px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            border-radius: 8px;
        }

        .nav-links a:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            color: white;
        }

        .cart-icon {
            position: relative;
            font-size: 20px;
            transition: transform 0.3s ease;
        }

        .cart-icon:hover {
            transform: scale(1.1);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff6b6b;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            max-width: 800px;
            padding: 0 20px;
            z-index: 2;
        }

        .hero h1 {
            font-size: 4rem;
            font-weight: 700;
            color: white;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: slideInUp 1s ease-out;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 30px;
            animation: slideInUp 1s ease-out 0.2s both;
        }

        .hero-description {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            margin-bottom: 40px;
            animation: slideInUp 1s ease-out 0.4s both;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            animation: slideInUp 1s ease-out 0.6s both;
        }

        .btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }

        /* Stats Section */
        .stats-section {
            padding: 80px 20px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
        }

        .stats-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .stat-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: float-icon 3s ease-in-out infinite;
        }

        @keyframes float-icon {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 10px;
            animation: countUp 2s ease-out;
        }

        .stat-label {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }

        /* Featured Products */
        .featured-section {
            padding: 80px 20px;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .section-subtitle {
            text-align: center;
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 50px;
        }

        .products-grid {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .product-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #f093fb, #f5576c);
            position: relative;
            overflow: hidden;
        }

        .product-image::before {
            content: 'üì¶';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            opacity: 0.3;
        }

        .product-info {
            padding: 25px;
        }

        .product-name {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        .product-brand {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ff6b6b;
            margin-bottom: 15px;
        }

        .product-description {
            font-size: 0.9rem;
            color: #666;
            line-height: 1.4;
            margin-bottom: 20px;
        }

        .product-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 10px 20px;
            font-size: 0.9rem;
            border-radius: 25px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }

        .btn-add-cart {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
        }

        .btn-add-cart:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        /* AI Assistant Section */
        .ai-section {
            padding: 80px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }

        .ai-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .ai-icon {
            font-size: 5rem;
            margin-bottom: 30px;
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .ai-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .ai-description {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 40px;
            opacity: 0.9;
        }

        .ai-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .ai-feature {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .ai-feature:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .ai-feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .ai-feature-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .ai-feature-desc {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Chat Widget */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chat-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            box-shadow: 0 4px 20px rgba(255, 107, 107, 0.4);
            transition: all 0.3s ease;
            animation: pulse-chat 2s infinite;
        }

        @keyframes pulse-chat {
            0% { box-shadow: 0 4px 20px rgba(255, 107, 107, 0.4); }
            50% { box-shadow: 0 4px 30px rgba(255, 107, 107, 0.8); }
            100% { box-shadow: 0 4px 20px rgba(255, 107, 107, 0.4); }
        }

        .chat-toggle:hover {
            transform: scale(1.1);
        }

        .chat-box {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            text-align: center;
            font-weight: 600;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .chat-input-container {
            padding: 20px;
            background: white;
            border-top: 1px solid #eee;
        }

        .chat-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 25px;
            outline: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            border-color: #667eea;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .chat-box {
                width: 300px;
                height: 400px;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Success Animation */
        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            z-index: 1001;
            animation: slideInRight 0.5s ease-out;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="floating-shapes">
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
        </div>
    </div>

    <!-- Header -->
    <header class="header" id="header">
        <nav class="nav-container">
            <a href="#" class="logo">
                <i class="fas fa-robot"></i>
                Metro Store
            </a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#products">Products</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="user-info">
                <span id="username">Welcome, Guest!</span>
                <div class="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cart-count">0</span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>ü§ñ Your AI Shopping Assistant</h1>
            <p class="hero-subtitle">Shop Smarter, Not Harder</p>
            <p class="hero-description">
                Experience the future of shopping with our AI-powered assistant. Get personalized recommendations, 
                instant product search, and seamless ordering - all through natural conversation!
            </p>
            <div class="cta-buttons">
                <button class="btn btn-primary" onclick="startShopping()">
                    <i class="fas fa-shopping-bag"></i>
                    Start Shopping
                </button>
                <button class="btn btn-secondary" onclick="openChat()">
                    <i class="fas fa-comments"></i>
                    Chat with AI
                </button>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-box"></i>
                </div>
                <div class="stat-number" id="total-products">5000+</div>
                <div class="stat-label">Products Available</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-tags"></i>
                </div>
                <div class="stat-number" id="total-brands">200+</div>
                <div class="stat-label">Trusted Brands</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-number" id="happy-customers">10K+</div>
                <div class="stat-label">Happy Customers</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-truck"></i>
                </div>
                <div class="stat-number" id="deliveries">24/7</div>
                <div class="stat-label">Fast Delivery</div>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="featured-section">
        <h2 class="section-title">üåü Featured Products</h2>
        <p class="section-subtitle">Discover our top-rated products, handpicked just for you</p>
        
        <div class="products-grid" id="featured-products">
            <!-- Products will be loaded here -->
        </div>
    </section>

    <!-- AI Assistant Section -->
    <section class="ai-section">
        <div class="ai-container">
            <div class="ai-icon">ü§ñ</div>
            <h2 class="ai-title">Meet Your AI Shopping Assistant</h2>
            <p class="ai-description">
                Our intelligent assistant understands your needs and helps you find exactly what you're looking for. 
                Just chat naturally and watch the magic happen!
            </p>
            
            <div class="ai-features">
                <div class="ai-feature">
                    <div class="ai-feature-icon">üîç</div>
                    <div class="ai-feature-title">Smart Search</div>
                    <div class="ai-feature-desc">Find products using natural language</div>
                </div>
                <div class="ai-feature">
                    <div class="ai-feature-icon">üí¨</div>
                    <div class="ai-feature-title">Natural Chat</div>
                    <div class="ai-feature-desc">Talk like you would to a friend</div>
                </div>
                <div class="ai-feature">
                    <div class="ai-feature-icon">‚ö°</div>
                    <div class="ai-feature-title">Instant Orders</div>
                    <div class="ai-feature-desc">Place orders directly through chat</div>
                </div>
                <div class="ai-feature">
                    <div class="ai-feature-icon">üìß</div>
                    <div class="ai-feature-title">Smart Notifications</div>
                    <div class="ai-feature-desc">Get email confirmations automatically</div>
                </div>
            </div>
            
            <button class="btn btn-primary" onclick="openChat()">
                <i class="fas fa-robot"></i>
                Try AI Assistant Now
            </button>
        </div>
    </section>

    <!-- Chat Widget -->
    <div class="chat-widget">
        <button class="chat-toggle" onclick="toggleChat()">
            <i class="fas fa-comments"></i>
        </button>
        
        <div class="chat-box" id="chat-box">
            <div class="chat-header">
                <i class="fas fa-robot"></i>
                AI Assistant
            </div>
            <div class="chat-messages" id="chat-messages">
                <div class="message ai-message">
                    <p>üëã Hi! I'm your AI shopping assistant. How can I help you today?</p>
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chat-input" placeholder="Type your message..." onkeypress="handleChatEnter(event)">
            </div>
        </div>
    </div>

    <script>
        // Sample product data
        const sampleProducts = [
            {
                id: 1,
                name: "Fresh Chicken Breast",
                brand: "Farm Fresh",
                price: 500,
                description: "Premium quality chicken breast, perfect for healthy meals",
                image_url: "https://via.placeholder.com/300x200?text=Chicken+Breast"
            },
            {
                id: 2,
                name: "Organic Vegetables Mix",
                brand: "Green Farm",
                price: 200,
                description: "Fresh organic vegetables straight from the farm",
                image_url: "https://via.placeholder.com/300x200?text=Vegetables"
            },
            {
                id: 3,
                name: "Premium Basmati Rice",
                brand: "India Gate",
                price: 1200,
                description: "Aromatic basmati rice, perfect for biryanis",
                image_url: "https://via.placeholder.com/300x200?text=Basmati+Rice"
            },
            {
                id: 4,
                name: "Fresh Milk",
                brand: "Amul",
                price: 60,
                description: "Pure and fresh milk, delivered daily",
                image_url: "https://via.placeholder.com/300x200?text=Fresh+Milk"
            },
            {
                id: 5,
                name: "Cooking Oil",
                brand: "Fortune",
                price: 800,
                description: "Healthy cooking oil for all your cooking needs",
                image_url: "https://via.placeholder.com/300x200?text=Cooking+Oil"
            },
            {
                id: 6,
                name: "Fresh Bread",
                brand: "Britannia",
                price: 40,
                description: "Soft and fresh bread, baked daily",
                image_url: "https://via.placeholder.com/300x200?text=Fresh+Bread"
            }
        ];

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadFeaturedProducts();
            animateStats();
            initScrollEffects();
            
            // Set username if available
            const username = localStorage.getItem('username') || 'Guest';
            document.getElementById('username').textContent = `Welcome, ${username}!`;
            
            // Set cart count
            const cartCount = localStorage.getItem('cartCount') || '0';
            document.getElementById('cart-count').textContent = cartCount;
        });

        // Load featured products
        function loadFeaturedProducts() {
            const container = document.getElementById('featured-products');
            
            // Display first 6 products
            sampleProducts.slice(0, 6).forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image"></div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-brand">${product.brand}</p>
                        <p class="product-price">‚Çπ${product.price}</p>
                        <p class="product-description">${product.description}</p>
                        <div class="product-actions">
                            <button class="btn-small btn-add-cart" onclick="addToCart(${product.id})">
                                <i class="fas fa-cart-plus"></i> Add to Cart
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(productCard);
            });
        }

        // Add to cart functionality
        function addToCart(productId) {
            const product = sampleProducts.find(p => p.id === productId);
            if (product) {
                let cart = JSON.parse(localStorage.getItem('cart') || '[]');
                const existingItem = cart.find(item => item.id === productId);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({...product, quantity: 1});
                }
                
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                showSuccessMessage(`${product.name} added to cart!`);
            }
        }

        // Update cart count
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart') || '[]');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-count').textContent = totalItems;
        }

        // Show success message
        function showSuccessMessage(message) {
            const successDiv = document.createElement('div');
            successDiv.className = 'success-message';
            successDiv.textContent = message;
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.remove();
            }, 3000);
        }

        // Animate stats
        function animateStats() {
            const stats = document.querySelectorAll('.stat-number');
            stats.forEach(stat => {
                const finalValue = stat.textContent;
                stat.textContent = '0';
                
                setTimeout(() => {
                    stat.textContent = finalValue;
                }, 500);
            });
        }

        // Initialize scroll effects
        function initScrollEffects() {
            window.addEventListener('scroll', () => {
                const header = document.getElementById('header');
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
        }

        // Chat functionality
        function toggleChat() {
            const chatBox = document.getElementById('chat-box');
            chatBox.style.display = chatBox.style.display === 'flex' ? 'none' : 'flex';
        }

        function openChat() {
            document.getElementById('chat-box').style.display = 'flex';
        }

        function startShopping() {
            document.getElementById('featured-products').scrollIntoView({ behavior: 'smooth' });
        }

        function handleChatEnter(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }

        function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (message) {
                addChatMessage(message, 'user');
                input.value = '';
                
                // Simulate AI response
                setTimeout(() => {
                    const aiResponse = generateAIResponse(message);
                    addChatMessage(aiResponse, 'ai');
                }, 1000);
            }
        }

        function addChatMessage(message, sender) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            if (sender === 'ai') {
                messageDiv.innerHTML = `<p>ü§ñ ${message}</p>`;
            } else {
                messageDiv.innerHTML = `<p>üë§ ${message}</p>`;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function generateAIResponse(userMessage) {
            const responses = [
                "I can help you find products! What are you looking for?",
                "Great choice! Let me search for the best options for you.",
                "I found some amazing products that match your needs!",
                "Would you like me to add anything to your cart?",
                "Our delivery service is available 24/7 in your area!"
            ];
            
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Add some interactive effects
        document.addEventListener('mousemove', (e) => {
            const shapes = document.querySelectorAll('.shape');
            shapes.forEach((shape, index) => {
                const speed = (index + 1) * 0.001;
                const x = e.clientX * speed;
                const y = e.clientY * speed;
                shape.style.transform = `translate(${x}px, ${y}px)`;
            });
        });
    </script>
</body>
</html>